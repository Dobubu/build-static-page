webpackJsonp([1],{Jx5h:function(t,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var s=e("//Fk"),n=e.n(s),i=e("fZjL"),r=e.n(i),a=e("VYVC"),c=e("fPt2"),d=e("uYd0"),l={props:["group"],components:{TodoSingleRow:a.a,TodoAdd:c.a},data:function(){return{isShowCheckedTodo:!1,todos:{}}},computed:{hasIsCheckTodoGroup:function(){return this.todoTurnArray.filter(function(t){return!0===t.isCheck}).length>0},todoTurnArray:function(){var t=this;return r()(this.todos).map(function(o){return t.todos[o]})},isPrevAddTodo:function(){return this.$store.state.isAddTodo}},methods:{changeIconsByImportant:function(t){return t?["fas","star"]:["far","star"]},changeIconsByCheck:function(t){return t?["fas","check-square"]:["far","square"]}},created:function(){var t=this;this.isPrevAddTodo&&this.$messageHandle("success","新增成功"),d.b.ref(Object(d.a)()+"/todoList").child(""+this.group).orderByChild("isImportant").on("value",function(o){var e=[];new n.a(function(t,e){o?t(o):e(new Error("目前無資料"))}).then(function(o){o.forEach(function(t){var o=t.val();o.key=t.key,e.push(o)}),t.todos=e.reverse()}).catch(function(o){t.$swalErrorHandle(o.message)}).finally(function(){t.isLoading=!0})})}},u={render:function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"todolist-wrap"},[t.isLoading?e("div",[e("todo-add"),t._v(" "),e("label",{staticClass:"col-form-label",attrs:{for:"dateline"}},[e("font-awesome-icon",{staticClass:"ml-auto text-dark",attrs:{"fixed-width":"",size:"lg",icon:"folder-open"}}),t._v("\n      "+t._s(t.group)+"\n    ")],1),t._v(" "),t._l(t.todos,function(o,s){return[!o.isCheck&&o.isShow?e("TodoSingleRow",{key:s,attrs:{todo:o}}):t._e()]}),t._v(" "),t.hasIsCheckTodoGroup?e("div",{staticClass:"text-center"},[e("button",{staticClass:"btn btn-outline-primary py-1 my-2",attrs:{type:"button"},on:{click:function(o){t.isShowCheckedTodo=!t.isShowCheckedTodo}}},[t._v("顯示已完成項目")])]):t._e(),t._v(" "),t.isShowCheckedTodo?e("div",[t._l(t.todos,function(o,s){return[o.isCheck?e("TodoSingleRow",{key:s,attrs:{todo:o}}):t._e()]})],2):t._e()],2):e("half-circle-spinner",{attrs:{"animation-duration":1e3,size:40,color:"#007bff"}})],1)},staticRenderFns:[]},h=e("VU/8")(l,u,!1,null,null,null);o.default=h.exports},PRqT:function(t,o){},VYVC:function(t,o,e){"use strict";var s=e("uYd0"),n={props:{todo:{type:Object,required:!0}},methods:{changeIconsByImportant:function(t){return t?["fas","star"]:["far","star"]},changeIconsByCheck:function(t){return t?["fas","check-square"]:["far","square"]},toggleCheck:function(){this.todo.isCheck=!this.todo.isCheck,s.b.ref(Object(s.a)()+"/todoList/"+this.todo.group).child(this.todo.key).set(this.todo)},toggleImportant:function(){this.todo.isImportant=!this.todo.isImportant,s.b.ref(Object(s.a)()+"/todoList/"+this.todo.group).child(this.todo.key).set(this.todo)},remove:function(){var t=this;this.$swal.fire({title:"確定刪除",text:"刪除後將不可修復",type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"確定",cancelButtonText:"取消"}).then(function(o){o.value&&(s.b.ref(Object(s.a)()+"/todoList/"+t.todo.group).child(t.todo.key).remove(),t.$swalSuccessHandle("刪除成功"))})}}},i={render:function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"collapse multi-collapse show pl-3"},[e("div",{key:t.todo.id,staticClass:"todo-row-wrap p-2 my-1 d-flex align-items-center",class:{lock:t.todo.isCheck}},[e("div",{staticClass:"todo-row-card"},[e("div",{staticClass:"form-check pl-3 mb-0"},[e("font-awesome-icon",{staticClass:"ml-auto text-dark",attrs:{size:"lg",icon:t.changeIconsByCheck(t.todo.isCheck)},on:{click:t.toggleCheck}}),t._v(" "),e("router-link",{staticClass:"text-dark",attrs:{to:{path:"/todoEdit/"+t.todo.group+"/"+t.todo.key}}},[e("label",{staticClass:"form-check-label pl-2"},[t._v("\n            "+t._s(t.todo.name)+"\n          ")])])],1)]),t._v(" "),e("font-awesome-icon",{staticClass:"ml-auto",class:{"text-primary":t.todo.isImportant},attrs:{size:"lg",icon:t.changeIconsByImportant(t.todo.isImportant)},on:{click:t.toggleImportant}}),t._v(" "),e("font-awesome-icon",{staticClass:"ml-3",attrs:{size:"lg",icon:"trash"},on:{click:t.remove}})],1)])},staticRenderFns:[]};var r=e("VU/8")(n,i,!1,function(t){e("zc3t")},null,null);o.a=r.exports},fPt2:function(t,o,e){"use strict";var s=e("SzpK"),n=e("uYd0"),i={data:function(){return{todo:new s.a}},computed:{todoGroupUrl:function(){return"/"!==this.$route.path?this.$route.params.group:this.todo.group}},methods:{submit:function(){this.todo.group=this.todoGroupUrl,n.b.ref(Object(n.a)()+"/todoList/"+this.todoGroupUrl).push(this.todo),this.$messageHandle("success",this.todo.name+" 新增成功！"),this.todo.name=""}}},r={render:function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"position-relative input-group-lg mb-3"},[e("font-awesome-icon",{staticClass:"position-absolute pull-left-icon text-secondary",attrs:{icon:"plus",size:"lg","fixed-width":""}}),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.todo.name,expression:"todo.name"}],staticClass:"form-control icon-input",attrs:{type:"text",placeholder:"新增待辦項目..."},domProps:{value:t.todo.name},on:{keyup:function(o){return!o.type.indexOf("key")&&t._k(o.keyCode,"enter",13,o.key,"Enter")?null:t.submit(o)},input:function(o){o.target.composing||t.$set(t.todo,"name",o.target.value)}}})],1)},staticRenderFns:[]};var a=e("VU/8")(i,r,!1,function(t){e("PRqT")},null,null);o.a=a.exports},zc3t:function(t,o){}});
//# sourceMappingURL=1.db2c7dc5b0398eeb976a.js.map