webpackJsonp([2],{PRqT:function(t,o){},agaF:function(t,o){},fPt2:function(t,o,e){"use strict";var n=e("SzpK"),s=e("uYd0"),r={data:function(){return{todo:new n.a}},computed:{todoGroupUrl:function(){return"/"!==this.$route.path?this.$route.params.group:this.todo.group}},methods:{submit:function(){this.todo.group=this.todoGroupUrl,s.b.ref(Object(s.a)()+"/todoList/"+this.todoGroupUrl).push(this.todo),this.$messageHandle("success",this.todo.name+" 新增成功！"),this.todo.name=""}}},i={render:function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"position-relative input-group-lg mb-3"},[e("font-awesome-icon",{staticClass:"position-absolute pull-left-icon text-secondary",attrs:{icon:"plus",size:"lg","fixed-width":""}}),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.todo.name,expression:"todo.name"}],staticClass:"form-control icon-input",attrs:{type:"text",placeholder:"新增待辦項目..."},domProps:{value:t.todo.name},on:{keyup:function(o){return!o.type.indexOf("key")&&t._k(o.keyCode,"enter",13,o.key,"Enter")?null:t.submit(o)},input:function(o){o.target.composing||t.$set(t.todo,"name",o.target.value)}}})],1)},staticRenderFns:[]};var a=e("VU/8")(r,i,!1,function(t){e("PRqT")},null,null);o.a=a.exports},vJKJ:function(t,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n=e("//Fk"),s=e.n(n),r=e("woOf"),i=e.n(r),a=e("fZjL"),l=e.n(a),u=e("uYd0"),d={props:{todos:{type:Object,required:!0},ID:{type:String,required:!0}},data:function(){return{isImportant:!1,isCheck:!1}},computed:{allIsCheck:function(){return this.todoTurnArray.filter(function(t){return!0===t.isCheck}).length===this.todoTurnArray.length},todoTurnArray:function(){var t=this;return l()(this.todos).map(function(o){return t.todos[o]})}},methods:{remove:function(){var t=this;this.$swal.fire({title:"確定刪除"+this.ID+"資料夾",text:"刪除後將不可修復",type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"確定",cancelButtonText:"取消"}).then(function(o){o.value&&(u.b.ref(Object(u.a)()+"/todoList/"+t.ID).remove(),t.$swalSuccessHandle("刪除成功"))})}}},c={render:function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",[e("router-link",{attrs:{to:{path:"/todoGroupList/"+t.ID}}},[t.allIsCheck?t._e():e("button",{staticClass:"btn w-100 text-left p-0 d-flex align-items-center",attrs:{type:"button"}},[e("label",{staticClass:"col-form-label",attrs:{for:"dateline"}},[e("font-awesome-icon",{staticClass:"ml-auto text-dark",attrs:{"fixed-width":"",size:"lg",icon:"folder-open"}}),t._v("\n        "+t._s(t.ID)+"\n      ")],1),t._v(" "),t.todoTurnArray.length>1?e("span",{staticClass:"ml-auto badge badge-primary",class:{"ml-auto":t.todoTurnArray.length>1}},[t._v(t._s(t.todoTurnArray.length-1))]):t._e()])]),t._v(" "),e("font-awesome-icon",{staticClass:"ml-3 trash",class:{"ml-auto":1===t.todoTurnArray.length},attrs:{size:"lg",icon:"trash"},on:{click:function(o){return o.stopPropagation(),t.remove(o)}}}),t._v(" "),e("hr")],1)},staticRenderFns:[]};var f={name:"todoList",components:{TodoGroupRow:e("VU/8")(d,c,!1,function(t){e("agaF")},"data-v-5df49d96",null).exports,TodoAdd:e("fPt2").a},firebase:{db:u.b.ref("dessert1"),root:u.b.ref("/")},data:function(){return{todoGroupList:{},isFirst:!0}},watch:{todoGroupList:{deep:!0,handler:function(t,o){var e=1===l()(this.todoGroupList).length,n=1===l()(this.todoGroupList.today).length;this.isFirst=e&&n}}},created:function(){var t=this;u.b.ref(Object(u.a)()+"/todoList").on("value",function(o){var e=o.val(),n=i()({},t.todo);n.name="default",n.isShow=!1;new s.a(function(t,o){t(e)}).then(function(o){o?t.todoGroupList=o:u.b.ref(Object(u.a)()+"/todoList/today").push(n)}).catch(function(o){t.$swalErrorHandle(o.message)}).finally(function(){t.isLoading=!0})})}},p={render:function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",[e("todo-add"),t._v(" "),t.isFirst?e("div",{staticClass:"first-text animated infinite pulse slow"},[e("font-awesome-icon",{staticClass:"fa-rotate-180",attrs:{icon:"level-down-alt",size:"lg","fixed-width":""}}),t._v(" "),e("p",{staticClass:"todo-first-text"},[t._v("從這邊快速新增，你的第一筆代辦事項")])],1):e("div",{staticClass:"todolist-wrap"},[t.isLoading?t._l(t.todoGroupList,function(o,n){return[Object.keys(o).length>1?e("TodoGroupRow",{key:n,attrs:{todos:o,ID:n}}):t._e()]}):e("half-circle-spinner",{attrs:{"animation-duration":1e3,size:40,color:"#007bff"}})],2),t._v(" "),e("div",{staticClass:"fixed-bottom text-center mb-4"},[e("router-link",{staticClass:"text-primary ",attrs:{to:{path:"/todoedit/new/0"}}},[e("font-awesome-icon",{staticStyle:{"font-size":"3rem"},attrs:{icon:"plus-circle"}})],1)],1)],1)},staticRenderFns:[]},h=e("VU/8")(f,p,!1,null,null,null);o.default=h.exports}});
//# sourceMappingURL=2.c2a5c22550763cbdc96a.js.map